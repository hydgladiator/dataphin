---
keyword: 创建Prod和Dev项目空间
---

# 创建Prod和Dev项目空间

为了保障数据生产的稳定性及对数据研发流程的强管控，Dataphin支持创建逻辑隔离（隔离数据的开发和生产）的项目空间（Dev项目和Prod项目）。本文为您介绍如何创建Prod和Dev项目空间。

-   如果您需要研发流批一体任务，则在创建项目空间前需要完成Flink计算源的创建，请参见[新建Flink计算源](/cn.zh-CN/数仓规划/计算源/新建Flink计算源.md)。
-   如果您选择的Dataphin的计算引擎为AnalyticDB for PostgreSQL，且数据研发过程中需要使用数据集成、即席查询、AnalyticDB for PostgreSQL的SQL计算任务等功能，则在创建项目空间前需要完成AnalyticDB for PostgreSQL计算源的创建，请参见[新建AnalyticDB For PostgreSQL计算源](/cn.zh-CN/数仓规划/计算源/新建AnalyticDB For PostgreSQL计算源.md)。
-   如果您选择的Dataphin的计算引擎为MaxCompute，且数据研发过程中需要使用规范建模、即席查询、MaxCompute计算任务等功能，则在创建项目空间前需要完成MaxCompute计算源的创建，请参见[新建MaxCompute计算源](/cn.zh-CN/数仓规划/计算源/新建MaxCompute计算源.md)。
-   Dataphin支持添加Hologres加速计算源至已绑定MaxCompute计算源的项目，加速数据服务的查询速度。如果您需要加速业务数据的查询速度，则在创建项目空间前需要创建加速计算源， 详情请参见[新建加速计算源]()。

Dataphin支持两种开发模式的项目空间。

|项目空间的模式|描述|
|-------|--|
|Dev-Prod模式|完成项目空间的创建后，系统默认生成了开发环境（Dev项目）和生产环境（Prod项目）。Prod项目保障了生产环境项目中的数据安全。如果您管理诉求较强，数据研发人员较多且能力及分工明确，数据计算存储预算较高，推荐此模式。

![fagag](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/7897996161/p256008.png) |
|Basic模式|完成项目空间的创建后，系统默认生成了Basic项目（开发和生产一体的项目）。Basic项目的数据生产过程稳定且便捷。如果您关注数据研发效率，研发人员职能边界模糊，计算存储预算有限制，推荐此模式。Basic项目的更多信息，请参见[创建Basic项目空间](/cn.zh-CN/数仓规划/创建项目空间/创建Basic项目空间.md)。![vaga](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/7897996161/p256027.png)

**说明：**

-   Basic模式不支持升级为Dev-Prod模式，且Basic模式存在直接变更生产风险，请您谨慎选择。
-   如果选择了Basic模式，请您谨慎管理项目成员，以控制数据生产的稳定性。 |

## 使用限制

-   创建项目空间的权限限制说明：

    -   系统支持超级管理员角色和板块管理员角色的账号创建项目空间。
    -   系统仅支持项目管理员和板块管理员角色的账号，关闭和开启数据表读写的权限申请。
    更多信息权限信息，请参见[数仓规划权限列表](/cn.zh-CN/权限管理/数仓规划权限列表.md)。

-   创建项目空间的限制说明：
    -   一个计算源仅支持被一个项目绑定。
    -   项目绑定计算源后，不支持修改计算源。
    -   项目至少需要绑定一个计算源，为项目提供计算和存储空间。

## 注意事项

Dev项目和Prod项目中配置的计算源需保持一致，否则可能导致生产环境的任务调度失败。

## 操作流程

|操作流程|描述|
|----|--|
|[步骤一：选择项目空间类型](#section_2mb_and_rn0)|选择项目空间的模式为Dev-Prod模式。完成项目空间的创建后，系统自动生成互相关联的Dev环境和Prod环境，以强管控数据生产过程、生产的数据。 |
|[步骤二：配置项目空间的名称和命名空间](#section_2bz_l81_eua)|配置项目空间的基本信息，包括项目空间的名称和命名空间。|
|[步骤三：配置项目空间的计算源](#section_xlx_6ph_u30)|计算源为项目空间的提供计算和存储资源。您也可以通过**信息设置**添加多个计算源，请参见[添加计算源](/cn.zh-CN/数仓规划/管理项目空间的权限和计算源.md)。 |
|[步骤四：配置项目空间的沙箱白名单](#section_4cc_phb_5yb)|配置项目空间中的Shell、Python任务可以访问的IP地址或域名。您也可以通过**信息设置**添加沙箱白名单，请参见[添加沙箱白名单](/cn.zh-CN/数仓规划/管理项目空间的权限和计算源.md)。 |
|[步骤五：配置项目空间的数据读写申请权限](#section_qnn_fu3_y51)|Dataphin支持通过项目粒度的方式，管控项目空间中的元表和物理表的读取和写入数据的权限申请。以规避审批者误操作，导致的数据泄露与安全问题：-   关闭数据写权限申请后，当前项目下的物理表及元表不支持申请写入权限，同时系统不收回已申请过的写入权限。
-   开启数据写权限申请后，当前项目下的物理表及元表支持申请写入权限。申请写入权限的更多信息，请参见[申请权限](/cn.zh-CN/资产中心/权限管理/我的权限/管理逻辑表权限.md)。

您也可以通过**信息设置**配置项目空间的数据读写申请权限，请参见[设置数据读写申请权限](/cn.zh-CN/数仓规划/管理项目空间的权限和计算源.md)。 |

## 步骤一：选择项目空间类型

1.  请参见[入口介绍](/cn.zh-CN/数仓规划/概述.md)，进入**数仓规划**页面。

2.  在**数仓规划**页面，单击左侧导航栏的项目管理。

3.  在**项目管理**页面，单击页面右上方的**新建项目**。

4.  在**新建项目**对话框，选择创建项目空间的模式为**Dev-Prod 模式**。

5.  单击**下一步**。


## 步骤二：配置项目空间的名称和命名空间

在**新建项目**页面的**名称设置**和**命名空间**区域，配置参数。

![afag](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/5160107161/p256312.png)

|区域|参数名称|描述|
|--|----|--|
|名称设置|公用名称|填写项目空间的公用名称。公用名称由汉字、数字、字母、下划线（\_）或短划线（-）组合组成。**说明：** 项目空间的公用英文名不支持以**LD\_**开头（业务板块英文名默认以**LD\_**作为前缀），以免引用逻辑表和物理表时出现冲突。 |
|公用英文名|填写项目空间的公用英文名。公用英文名由字母、数字、下划线（\_）组合组成。开发环境项目英文名默认以\_dev作为后缀。

![fgagag](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/7897996161/p256009.png)

**说明：**

-   如果计算引擎为MaxCompute，建议您将项目的**公用英文名**设置为与对应的MaxCompute项目名一致。
-   项目空间的公用英文名不支持以**LD\_**开头（业务板块英文名默认以**LD\_**作为前缀），以免引用逻辑表和物理表时出现冲突。 |
|命名空间|业务板块|选择项目空间所属的业务板块。**说明：** 如果您购买的Dataphin实例为基础研发版，则系统不支持选择业务板块。 |
|空间类型|区分项目开发任务及产出数据特征，默认为应用层。空间类型包括3种： -   **基础层**：来自各个业务数据库的原始数据存储，是后续所有数据建设的来源与基础，也称为垂直数据中心。
-   **公共层**：基于各业务数据，抽象公共的主题，沉淀标准、规范、可共用的数据，是连接基础层与应用层的中间桥梁，也称为公共数据中心。
-   **应用层**：面向业务需求，定义生成可应用于不同场景的个性化、多样化的数据指标。 |

## 步骤三：配置项目空间的计算源

在**新建项目**页面的**项目设置**区域，配置参数。

![dfagag](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/5160107161/p256770.png)

|项目|参数|描述|
|--|--|--|
|Dev项目|计算源|计算源为项目提供计算和存储资源。添加Dev项目的计算源：

1.  选中需要添加的**计算源类型**。

计算源类型根据您初始化系统选择的计算引擎而不同。系统支持的计算类型包括MaxCompute、Flink、Hologres、AnalyticDB for PostgreSQL。

2.  添加与计算类型匹配的计算源。

**说明：**

-   已绑定项目的计算源，无法被其他项目再次绑定。
-   Dev项目和Prod项目的计算源需保持一致。

系统支持为项目绑定MaxCompute、AnalyticDB For PostgreSQL计算源时，同步创建数据源。如果选中**同步创建数据源**，系统自动为您创建数据同步或数据集成的目标数据源。创建数据源的机制，请参见[同步创建数据源的机制](#section_3zd_zx4_f72)。 |
|英文名|Dev项目的英文名默认为项目空间**公用英文名**后增加**\_dev**。![gszhsh](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/5160107161/p256784.png) |
|名称|Dev项目的名称默认为项目空间的**公用名称**后增加**\_开发**。|
|描述|填写对Dev项目的描述。|
|开发操作|默认为代码编辑、发布管理、调度，不支持修改。|
|业务板块|默认为**命名空间**区域设置的业务板块名称，不支持修改。|
|Prod项目|计算源|计算源为项目提供计算和存储资源。添加Prod项目的计算源：1.  选中需要添加的**计算源类型**。

计算源类型根据您初始化系统选择的计算引擎而不同。系统支持的计算类型包括MaxCompute、Flink、Hologres、AnalyticDB for PostgreSQL。

2.  添加与计算类型匹配的计算源。

**说明：**

-   已绑定项目的计算源，无法被其他项目再次绑定。
-   Dev项目和Prod项目的计算源需保持一致。 |
|英文名|Prod项目的英文名默认与项目空间公用英文名保持一致。|
|名称|Prod项目的名称默认与项目空间的公用名称保持一致。|
|描述|填写对Prod项目的描述。|
|生产操作|默认为代码编辑（查看）、调度，不支持修改。|
|业务板块|默认为**命名空间**区域设置的业务板块名称，不支持修改。|

## 步骤四：配置项目空间的沙箱白名单

1.  在**其他设置**的**沙箱白名单**区域，添加该项目空间下输入Shell、Python任务需要访问的IP地址或域名。

    ![gaga](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/9846725161/p246583.png)

    1.  单击**新建**。

    2.  根据页面提示，输入Shell、Python任务需要访问的IP地址或域名。

        **说明：** 必须填写可以被访问到的IP地址或域名。

    3.  单击![gagaga](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/9846725161/p246566.png)图标。

2.  单击**确定**，Shell、Python任务可以访问对应的IP地址或域名。

    对于已添加的沙箱白名单，您也可以单击**操作**列下的![gagag](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/9846725161/p246584.png)图标，删除后项目空间下的Shell、Python任务，将无法访问对应的IP地址或域名。


## 步骤五：配置项目空间的数据读写申请权限

1.  在**其他设置**对话框的**通用功能控制**区域，选择是否需要开启**数据读写权限申请**权限。

    ![dagfa](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6160107161/p256843.png)

    开启或关闭数据写权限申请：

    -   关闭数据写权限申请后，当前项目下的物理表及元表不支持申请写入权限，同时系统不收回已申请过的写入权限。
    -   开启数据写权限申请后，当前项目下的物理表及元表支持申请写入权限。申请写入权限的更多信息，请参见[申请权限](/cn.zh-CN/资产中心/权限管理/我的权限/管理逻辑表权限.md)。
    开启或关闭数据读权限申请：

    -   关闭数据读权限申请后，当前项目下物理表及元表不支持申请查询权限，同时系统不收回已申请过的查询权限。
    -   开启数据读权限申请后，当前项目下的物理表及元表支持申请查询权限。申请查询权限的更多信息，请参见[申请权限](/cn.zh-CN/资产中心/权限管理/我的权限/管理逻辑表权限.md)。
2.  单击**确定**，完成Prod项目和Dev项目的创建。

    创建完项目空间后，即可进入工作区开始数据的研发。如何基于Dataphin开发数据，请参见[数据开发](/cn.zh-CN/数据开发/概述.md)。

    ![faga](https://help-static-aliyun-doc.aliyuncs.com/assets/img/zh-CN/6160107161/p256969.png)


## 同步创建数据源的机制

-   绑定的计算源类型为MaxCompute，同步创建数据源时，系统自动配置的参数信息如下。

    |参数|描述|
    |--|--|
    |**数据源类型**|系统默认配置MaxCompute。|
    |**数据源名称**|系统默认配置为Prod计算源英文名。|
    |**数据源描述**|系统默认配置为Prod项目的描述。|
    |**数据源配置**|系统默认选择为**生产+开发数据源**。|
    |**开发数据源**|**Endpoint**|系统默认填写Dev项目绑定的计算源的连接信息。|
    |**Project Name**|
    |**Access ID**|
    |**Access Key**|
    |**生产数据源**|**Endpoint**|系统默认填写Prod项目绑定的计算源的连接信息。|
    |**Project Name**|
    |**Access ID**|
    |**Access Key**|

-   绑定的计算源类型为AnalyticDB For PostgreSQL，同步创建数据源时，系统自动配置的参数信息如下。

    |参数|描述|
    |--|--|
    |**数据源类型**|系统默认配置为AnalyticDB for PostgreSQL。|
    |**数据源名称**|系统默认配置为Prod计算源英文名。|
    |**数据源描述**|系统默认配置为Prod项目的描述。|
    |**数据源配置**|系统默认选择为**生产+开发数据源**。|
    |**开发数据源**|**Endpoint**|系统默认填写Dev项目绑定的计算源的连接信息。|
    |**Project Name**|
    |**Access ID**|
    |**Access Key**|
    |**生产数据源**|**Endpoint**|系统默认填写Prod项目绑定的计算源的连接信息。|
    |**Project Name**|
    |**Access ID**|
    |**Access Key**|


同步创建数据源过程中，系统校验规则如下：

-   数据源重名校验：如果已存在同名数据源，则数据源创建失败，项目创建不阻断。
-   数据源测试连接：如果测试连接失败，则数据源创建失败，项目创建不阻断。

